<div class="row">
  <div class="col-lg-12">
    <nb-card>
      <nb-card-body>
        <span class="edit" >
          <button
          *ngIf="c"
          nbButton
          (click)="openModalKaryawan()"
          >Tambah</button>
        </span>
        <!-- <span class="edit" >
          <button
          nbButton
          (click)="rerender()"
          >Rerender</button>
        </span> -->
        <br /><br />
        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
          <thead>
            <tr>
              <th>Kode Karyawan</th>
              <th>No Ktp</th>
              <th>Nama</th>
              <th>Alamat</th>
              <th>Kota</th>
              <th>No Telp</th>
              <th>Departemen</th>
              <th>Status</th>
              <th>Area</th>
              <th>Divisi</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody *ngIf="karyawans?.length != 0">
              <tr *ngFor="let karyawan of karyawans; let i = index">
                  <td>{{ karyawan.fc_kdkaryawan }}</td>
                  <td>{{ karyawan.fv_noktp }}</td>
                  <td>{{ karyawan.fv_nama }}</td>
                  <td>{{ karyawan.fv_alamat }}</td>
                  <td>{{ karyawan.fc_kota }}</td>
                  <td>{{ karyawan.fv_notelp }}</td>
                  <td>{{ karyawan.f_deptname }}</td>
                  <td>
                    <p *ngIf="karyawan.fc_sts =='Y'" ><button type="button" nbButton status="success" size="small">Aktif</button></p>
                    <p *ngIf="karyawan.fc_sts =='N'" ><button type="button" nbButton status="danger" size="small">Non Aktif</button></p>
                  </td>
                  <td>{{ karyawan.fv_nmarea }}</td>
                  <td>{{ karyawan.fv_nmdivisi }}</td>
                  <td >
                    <span class="edit" >
                      <button *ngIf="u" (click)="editKaryawan(karyawan.fc_kdkaryawan)" title="" data-toggle="modal" data-target="#quick-view-modal" nbButton status="success" size="small">Edit</button>
                    </span>
                    <span>
                      <button (click)="editLogin(karyawan.fc_kdkaryawan)" title="" data-toggle="modal" data-target="#quick-view-modal-login" nbButton status="primary" size="small">Login</button>
                    </span>
                    <span class="delete">
                      <button *ngIf="d" (click)="DeleteKaryawan(karyawan.fc_kdkaryawan)" type="button" nbButton status="danger" size="small">Delete</button>
                    </span>
                  </td>
              </tr>
          </tbody>
          <tbody *ngIf="karyawans?.length == 0">
            <tr>
              <td colspan="11" class="no-data-available">No data!</td>
            </tr>
          <tbody>
        </table>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div *ngIf="isPopup"  style="position: absolute; top: 16vh; left: 21%; width: 76%; height: 75vh; display: flex; align-items: center; justify-content: center; z-index: 1002;">
  <nb-card [nbSpinner]="loading"
  nbSpinnerStatus="danger"
  nbSpinnerSize="large"
  nbSpinnerMessage="Loading....."
   style="width: 100%; height: 100%; overflow: hidden; margin: 0;">
    <nb-card-header>Form Input Karyawan</nb-card-header>
		<nb-card-body style="padding: 1rem;">

					

              <div class="col-md-12">
              <div class="row show-grid">
              <div class="col-md-6">
              <div class="form-control-group">
                <label class="label" for="inputKodeKaryawan">Kode Karyawan</label>
                <input type="text" nbInput fullWidth id="inputKodeKaryawan" placeholder="Kode Karyawan" [(ngModel)]="KodeKaryawan" [value]="KodeKaryawan" readonly>
              </div>
              <div class="form-control-group">
                <label class="label" for="inputNoKtp">No Ktp</label>
                <input type="text" nbInput fullWidth id="inputNoKtp" placeholder="No Ktp" [(ngModel)]="fv_noktp" autocomplete="off">
              </div>
              <div class="form-control-group">
                <label class="label" for="inputKota">Kota</label>
                <input type="text" nbInput fullWidth id="inputKota" placeholder="Kota" [(ngModel)]="fc_kota" autocomplete="off">
              </div>
              <div class="form-control-group">
                  <label class="label" for="inputDepartemen">Departemen</label>
                  <nb-select id="inputDepartemen" fullWidth placeholder="Pilih Departemen" [(ngModel)]="f_deptid">
                    <nb-option *ngFor="let departement of Departement" value="{{departement.f_deptid}}">{{departement.f_deptname}}</nb-option>
                  </nb-select>
                </div>
              <div class="form-control-group">
                  <label class="label" for="inputArea">Area</label>
                  <nb-select id="inputArea" fullWidth placeholder="Pilih Area" [(ngModel)]="fc_kdarea">
                    <nb-option *ngFor="let area of Area" value="{{area.fc_kdarea}}">{{area.fv_nmarea}}</nb-option>
                  </nb-select>
                </div>

              <div class="form-control-group">
                <button nbButton
                    type="button"
                    (click)="simpan()"
                    status="success"
                    size="large"
                    [nbSpinner]="simpanLoading"
                    nbSpinnerStatus="danger"
                        >
                  Simpan
                  
                </button>
              </div>
              </div>
              <div class="col-md-6">
                <div class="form-control-group">
                <label class="label" for="inputNama">Nama</label>
                <input type="text" nbInput fullWidth id="inputNama" placeholder="Nama" [(ngModel)]="fv_nama" autocomplete="off">
              </div>
                <div class="form-control-group">
                <label class="label" for="inputAlamat">Alamat</label>
                <input type="text" nbInput fullWidth id="inputAlamat" placeholder="Alamat" [(ngModel)]="fv_alamat" autocomplete="off">
              </div>
                <div class="form-control-group">
                <label class="label" for="inputNoTelp">No Telp</label>
                <input type="text" nbInput fullWidth id="inputNoTelp" placeholder="No Telp" [(ngModel)]="fv_notelp" autocomplete="off">
              </div>
                <div class="form-control-group">
                  <label class="label" for="inputStatus">Status</label>
                  <nb-select id="inputStatus" fullWidth placeholder="Pilih Status" [(ngModel)]="fc_sts">
                      <nb-option value="Y">Aktif</nb-option>
                      <nb-option value="N">Non Aktif</nb-option>
                    </nb-select>
                </div>
                <div class="form-control-group">
                  <label class="label" for="inputDivisi">Divisi</label>
                  <nb-select id="inputDivisi" fullWidth placeholder="Pilih Divisi" [(ngModel)]="fc_kddivisi">
                      <nb-option *ngFor="let divisi of Divisi" value="{{divisi.fc_kddivisi}}">{{divisi.fv_nmdivisi}}</nb-option>
                    </nb-select>
                </div>
              </div>
              </div>
              </div>
						

    </nb-card-body>
    <nb-card-footer>
			<button nbButton (click)="hideModalUpdate()">Tutup</button>
		</nb-card-footer>
  </nb-card>
</div>
<div *ngIf="openModalUpdate "  style="position: absolute; top: 16vh; left: 21%; width: 76%; height: 75vh; display: flex; align-items: center; justify-content: center; z-index: 1002;">
  <nb-card [nbSpinner]="loading"
  nbSpinnerStatus="danger"
  nbSpinnerSize="large"
  nbSpinnerMessage="Loading....." style="width: 100%; height: 100%; overflow: hidden; margin: 0;">
    <nb-card-header>Form Update Karyawan</nb-card-header>
		<nb-card-body style="padding: 1rem;">

					
              <div class="col-md-12">
                <div class="row show-grid">
                <div class="col-md-6">
                  <div class="form-control-group">
                <label class="label" for="inputKodeKaryawan">Kode Karyawan</label>
                <input type="text" nbInput fullWidth id="inputKodeKaryawan" placeholder="Kode Karyawan" [(ngModel)]="fc_kdkaryawan2" readonly>
              </div>
                  <div class="form-control-group">
                <label class="label" for="inputNoKtp">No Ktp</label>
                <input type="text" nbInput fullWidth id="inputNoKtp" placeholder="No Ktp" [(ngModel)]="fv_noktp2" autocomplete="off">
              </div>
                  <div class="form-control-group">
                <label class="label" for="inputKota">Kota</label>
                <input type="text" nbInput fullWidth id="inputKota" placeholder="Kota" [(ngModel)]="fc_kota2" autocomplete="off">
              </div>
                  <div class="form-control-group">
                  <label class="label" for="inputDepartemen">Departemen</label>
                  <nb-select id="inputDepartemen" fullWidth placeholder="Pilih Departemen" [(ngModel)]="f_deptid2">
                        <nb-option *ngFor="let departement of Departement;let i = index" [value]="departement.f_deptid" >{{departement.f_deptname}}</nb-option>
                      </nb-select>
                </div>
                  <div class="form-control-group">
                  <label class="label" for="inputArea">Area</label>
                  <nb-select id="inputArea" fullWidth placeholder="Pilih Area" [(ngModel)]="fc_kdarea2">
                        <nb-option *ngFor="let area of Area;let i = index" [value]="area.fc_kdarea">{{area.fv_nmarea}}</nb-option>
                      </nb-select>
                </div>


                <div class="form-control-group">
                <button nbButton
                      type="button"
                      (click)="update()"
                      status="success"
                      size="large"
                      [nbSpinner]="simpanLoading"
                      nbSpinnerStatus="danger"
                          >
                    Simpan
                    
                  </button>
              </div>
                </div>
                <div class="col-md-6">
                  <div class="form-control-group">
                <label class="label" for="inputNama">Nama</label>
                <input type="text" nbInput fullWidth id="inputNama" placeholder="Nama" [(ngModel)]="fv_nama2" autocomplete="off">
              </div>
                  <div class="form-control-group">
                <label class="label" for="inputAlamat">Alamat</label>
                <input type="text" nbInput fullWidth id="inputAlamat" placeholder="Alamat" [(ngModel)]="fv_alamat2" autocomplete="off">
              </div>
                  <div class="form-control-group">
                <label class="label" for="inputNoTelp">No Telp</label>
                <input type="text" nbInput fullWidth id="inputNoTelp" placeholder="No Telp" [(ngModel)]="fv_notelp2" autocomplete="off">
              </div>
                  <div class="form-control-group">
                  <label class="label" for="inputStatus">Status</label>
                  <nb-select id="inputStatus" fullWidth placeholder="Pilih Status" [(ngModel)]="fc_sts2">
                        <nb-option value="Y">Aktif</nb-option>
                        <nb-option value="N">Non Aktif</nb-option>
                      </nb-select>
                </div>
                  <div class="form-control-group">
                  <label class="label" for="inputDivisi">Divisi</label>
                  <nb-select id="inputDivisi" fullWidth placeholder="Pilih Divisi" [(ngModel)]="fc_kddivisi2">
                        <nb-option *ngFor="let divisi of Divisi;let i = index" [value]="divisi.fc_kddivisi">{{divisi.fv_nmdivisi}}</nb-option>
                      </nb-select>
                </div>
                </div>
                 </div>
                </div>
            
    </nb-card-body>
    <nb-card-footer>
			<button nbButton (click)="hideModelUpdate()">Tutup</button>
		</nb-card-footer>
  </nb-card>
</div>

<div *ngIf="openModalLogin "  style="position: absolute; top: 16vh; left: 21%; width: 76%; height: 36vh; display: flex; align-items: center; justify-content: center; z-index: 1002;">
  <nb-card [nbSpinner]="loading"
  nbSpinnerStatus="danger"
  nbSpinnerSize="large"
  nbSpinnerMessage="Loading....." style="width: 100%; height: 100%; overflow: hidden; margin: 0;">
    <nb-card-header>Form Update Login</nb-card-header>
    <nb-card-body style="padding: 1rem;">
      <div class="col-md-12">
        <div class="row show-grid">
        <div class="col-md-6">
          <div class="form-group row">
            <label for="inputEmail1" class="label col-sm-3 col-form-label">Username</label>
            <div class="col-sm-9">
              <input type="hidden" nbInput fullWidth [(ngModel)]="fc_kdkaryawan3">
              <input type="text" nbInput fullWidth id="inputEmail1" placeholder="Username" [(ngModel)]="fv_username">
            </div>
          </div>
          <div class="form-control-group">
                <button nbButton
                type="button"
                (click)="update_login()"
                status="success"
                size="large"
                [nbSpinner]="simpanLoading"
                nbSpinnerStatus="danger"
                    >
              Simpan
              
            </button>
              </div>
        </div>
        <div class="col-md-6">
          <div class="form-control-group">
                <label class="label" for="inputPassword">Password</label>
                <input type="password" nbInput fullWidth id="inputPassword" placeholder="Password" [(ngModel)]="fv_view_password" >
              </div>
        </div>
        </div>
      </div>
    </nb-card-body>
  </nb-card>
</div>
